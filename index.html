<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cabin Calendar</title>
    <link rel="stylesheet" href="styles.css">
    
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
        import { getFirestore, collection, getDocs, addDoc, updateDoc, deleteDoc, doc, Timestamp, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

        window.firebaseConfig = {
            apiKey: "AIzaSyDC80jrgv7iC7pcgCnUsY3GqL1Nh0y9fEY",
            authDomain: "cabin-calendar-3c52f.firebaseapp.com",
            projectId: "cabin-calendar-3c52f",
            storageBucket: "cabin-calendar-3c52f.firebasestorage.app",
            messagingSenderId: "9860592954",
            appId: "1:9860592954:web:d90fbaaa47e4b4061b4c03"
        };

        const app = initializeApp(window.firebaseConfig);
        window.db = getFirestore(app);
        window.Timestamp = Timestamp;
        window.collection = collection;
        window.getDocs = getDocs;
        window.addDoc = addDoc;
        window.updateDoc = updateDoc;
        window.deleteDoc = deleteDoc;
        window.doc = doc;
        window.query = query;
        window.orderBy = orderBy;
        window.onSnapshot = onSnapshot;

        console.log("Firebase initialized in index.html");
    </script>
    <script defer src="app.js"></script>
</head>
<body>
    <div id="login-page">
        <h1>Login</h1>
        <input type="password" id="password-input" placeholder="Enter Password">
        <button onclick="checkPassword()">Login</button>
    </div>
    
    <div id="main-content" style="display: none;">
        <h1>Cabin Calendar</h1>
        <div id="calendar-container">
            <div id="calendar-header">
                <button onclick="prevMonth()">&#9665;</button>
                <h2 id="monthYear"></h2>
                <button onclick="nextMonth()">&#9655;</button>
            </div>
            <div id="calendar"></div>
        </div>
        <div id="event-list">
            <h2>Events</h2>
            <ul id="events-ul"></ul>
        </div>
        <button onclick="logout()">Logout</button>
    </div>
</body>
</html>
